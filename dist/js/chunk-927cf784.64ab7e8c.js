(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-927cf784"],{"0ad9":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appeals notranslate"},[t.state?s("div",{staticClass:"appeals-form"},[s("img",{staticClass:"close",attrs:{src:a("1d1b"),alt:""},on:{click:t.close}}),s("h3",[t._v(t._s(t.$t("forms.create-appeals")))]),s("div",[s("p",[t._v(t._s(t.$t("forms.name")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("div",[s("p",[t._v(t._s(t.$t("forms.lastname")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lastname,expression:"lastname"}],attrs:{type:"text"},domProps:{value:t.lastname},on:{input:function(e){e.target.composing||(t.lastname=e.target.value)}}})]),s("div",[s("p",[t._v(t._s(t.$t("forms.phone")))]),s("input",{directives:[{name:"mask",rawName:"v-mask",value:"+7 ### ### ## ##",expression:"'+7 ### ### ## ##'"},{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text",placeholder:"+7"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),s("div",[s("p",[t._v(t._s(t.$t("forms.address")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],attrs:{list:"maplist",type:"text"},domProps:{value:t.val},on:{input:[function(e){e.target.composing||(t.val=e.target.value)},t.maps]}}),s("datalist",{attrs:{id:"maplist"}},t._l(t.mapResults,(function(e,a){return s("option",{key:a,domProps:{value:e.name}},[t._v(" "+t._s(e.name)+" ")])})),0)]),s("div",[s("p",[t._v(t._s(t.$t("forms.type")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"text",name:"example",list:"exampleList"},domProps:{value:t.type},on:{input:function(e){e.target.composing||(t.type=e.target.value)}}}),t._m(0)]),s("div",[s("file-input",{on:{image:t.loadImage}})],1),s("button",{on:{click:t.createAppeals}},[t._v(t._s(t.$t("forms.create-appeals")))])]):t._e(),t.state?t._e():s("div",{staticClass:"appeals-complete"},[s("img",{staticClass:"close",attrs:{src:a("1d1b"),alt:""},on:{click:t.close}}),s("h3",[t._v(t._s(t.$t("forms.appeal-greate")))]),s("p",[t._v(" "+t._s(t.$t("forms.appeal-text"))+" "),s("br"),s("router-link",{attrs:{to:""}},[t._v(t._s(t.$t("account.my-appeals")))])],1),s("img",{staticClass:"form-img",attrs:{src:a("f2ca"),alt:""}})])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("datalist",{attrs:{id:"exampleList"}},[a("option",{attrs:{value:"свалка"}},[t._v("Свалка")]),a("option",{attrs:{value:"крупногабаритные отходы"}},[t._v(" Крупногабаритные отходы ")]),a("option",{attrs:{value:"переполненные контейнеры"}},[t._v(" Переполненные контейнеры ")]),a("option",{attrs:{value:"переполненные урны"}},[t._v("переполненные урны")])])}],i=(a("d3b7"),a("b0c0"),a("cbc8")),o={components:{FileInput:i["a"]},data:function(){return{state:!0,test:"",val:"",mapResults:"",type:"",img:"",lat:"",long:"",phone:"",name:"",lastname:""}},computed:{getIsAuth:function(){return this.$store.getters.getIsAuth}},methods:{maps:function(){var t=this;fetch("https://catalog.api.2gis.com/3.0/suggests?q=".concat(this.val,"&type=street,building,adm_div.living_area&fields=items.point&location=82.617712,49.949531&key=rurbbn3446")).then((function(t){return t.json()})).then((function(e){t.mapResults=e.result.items,console.log(t.mapResults=e.result.items),t.lat=t.mapResults[0].point.lat,t.long=t.mapResults[0].point.lon}))},close:function(){this.state=!0,this.$emit("close")},loadImage:function(t){this.img=t,console.log(this.img)},createAppeals:function(){var t=this,e={app_type:this.type,message:"камеру убирай бля1",first_name:this.name,last_name:this.lastname,patronymic:"none",phone_number:this.phone,latitude:this.lat,longitude:this.long,address:this.val,photo_url:this.img};console.log(e),this.getIsAuth?this.$store.dispatch("createAppealsAuth",e).then((function(e){var a={res:e.data.id,formData:t.img};console.log(a),t.$store.dispatch("uploadPhoto",a),t.state=!t.state})).catch((function(t){console.log(t)})):this.$store.dispatch("createAppeals",e).then((function(e){var a={res:e.data.id,formData:t.img};t.$store.dispatch("uploadPhoto",a),t.state=!t.state})).catch((function(t){console.log(t)}))}}},l=o,r=(a("f841"),a("2877")),c=Object(r["a"])(l,s,n,!1,null,"0926da54",null);e["default"]=c.exports},"1ba4":function(t,e,a){},"64e7":function(t,e,a){t.exports=a.p+"img/icon-photo.1a38a501.svg"},7119:function(t,e,a){t.exports=a.p+"img/close-imgsvg.d72df1a9.svg"},a434:function(t,e,a){"use strict";var s=a("23e7"),n=a("7b0b"),i=a("23cb"),o=a("5926"),l=a("07fa"),r=a("3511"),c=a("65f0"),p=a("8418"),m=a("083a"),u=a("1dde"),f=u("splice"),d=Math.max,v=Math.min;s({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var a,s,u,f,g,h,_=n(this),b=l(_),y=i(t,b),x=arguments.length;for(0===x?a=s=0:1===x?(a=0,s=b-y):(a=x-2,s=v(d(o(e),0),b-y)),r(b+a-s),u=c(_,s),f=0;f<s;f++)g=y+f,g in _&&p(u,f,_[g]);if(u.length=s,a<s){for(f=y;f<b-s;f++)g=f+s,h=f+a,g in _?_[h]=_[g]:m(_,h);for(f=b;f>b-s+a;f--)m(_,f-1)}else if(a>s)for(f=b-s;f>y;f--)g=f+s-1,h=f+a-1,g in _?_[h]=_[g]:m(_,h);for(f=0;f<a;f++)_[f+y]=arguments[f+2];return _.length=b-s+a,u}})},ae79:function(t,e,a){},b0c0:function(t,e,a){var s=a("83ab"),n=a("5e77").EXISTS,i=a("e330"),o=a("9bf2").f,l=Function.prototype,r=i(l.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,p=i(c.exec),m="name";s&&!n&&o(l,m,{configurable:!0,get:function(){try{return p(c,r(this))[1]}catch(t){return""}}})},cbc8:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"file"},[s("div",{staticClass:"file-zone"},t._l(t.images,(function(e,n){return s("div",{key:n,staticClass:"file-item"},[s("img",{ref:"close",refInFor:!0,staticClass:"close",attrs:{src:a("7119"),alt:""},on:{click:function(e){return t.deleteImg(n)}}}),s("img",{staticClass:"inner",attrs:{src:e,alt:""}})])})),0),s("label",{attrs:{for:"file"},on:{drop:t.onFileChange}},[t._m(0)]),s("input",{attrs:{id:"file",type:"file",accept:"image/*",multiple:""},on:{change:t.onFileChange}})])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"file-info"},[s("img",{attrs:{src:a("64e7"),alt:""}}),s("p",[t._v("Перетащите сюда или "),s("span",[t._v("загрузите фото")])])])}],i=(a("a434"),{data:function(){return{images:[],files:""}},methods:{onFileChange:function(t){for(var e=t.target.files,a=e.length,s=[],n=0;n<a;n++){var i=new FileReader;i.onload=function(t){s.push(t.target.result)},i.readAsDataURL(e[n])}this.images=s,this.files=t.target.files;for(var o=new FormData,l=0;l<this.files.length;l++){var r=this.files[l];o.append("file",r)}console.log(o),this.$emit("image",o)},deleteImg:function(t){this.images.splice(t,1),this.$emit("image",this.images)}}}),o=i,l=(a("dc87"),a("2877")),r=Object(l["a"])(o,s,n,!1,null,"66e7ce4d",null);e["a"]=r.exports},dc87:function(t,e,a){"use strict";a("ae79")},f2ca:function(t,e,a){t.exports=a.p+"img/appeals-done.cd3c7191.svg"},f841:function(t,e,a){"use strict";a("1ba4")}}]);
//# sourceMappingURL=chunk-927cf784.64ab7e8c.js.map